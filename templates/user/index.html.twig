{% extends 'adminBase.html.twig' %}

{% block title %}User index
{% endblock %}

{% block body %}
<div class="main-container">
	<div class="pd-ltr-20 xs-pd-20-10">
		<div class="min-height-200px">
			<div class="page-header">
				<div class="row">
					<div class="col-md-12 col-sm-12">
						<div class="title">
							<h4>liste des utilisateurs</h4>
						</div>
						<nav aria-label="breadcrumb" role="navigation">
							<ol class="breadcrumb">
								<li class="breadcrumb-item">
									<a href="index.html">Home</a>
								</li>
								<li class="breadcrumb-item active" aria-current="page">
									Utilisateurs
								</li>
							</ol>
						</nav>
					</div>
				</div>
				<div class="row">
					<div class="header-left">
						<div class="header-search">
							<form id="searchForm">
								<div class="form-group mb-0">
									<i class="dw dw-search2 search-icon"></i>
									<input type="text" class="form-control search-input" id="searchInput" placeholder="Search Here"/>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>

			<!-- Striped table start -->
					<div class="pd-20 card-box mb-30">
						<div class="clearfix mb-20">
							<div class="pull-left">
								
							</div>
							
						</div>

						<table class="table table-striped">
					<thead>
						<tr>
							<th scope="col">#</th>
							<th scope="col">Nom</th>
							<th scope="col">Prenom</th>
							<th scope="col">Email</th>
							<th scope="col">Telephone</th>
							<th scope="col">Role</th>
							<th scope="col">Actions</th>
						</tr>
					</thead>
					<tbody>
						{% for user in users %}
							<tr>
								<th scope="row">{{ user.idu }}</th>

								<td>{{ user.nom }}</td>
								<td>{{ user.prenom }}</td>
								<td>{{ user.email }}</td>
								<td>{{ user.tel }}</td>
								<td>{{ user.role }}</td>
								
								<td>
                                    <form method="post" action="{{ path('app_user_block', {'idu': user.idu}) }}" onsubmit="return confirm('Are you sure you want to block this user?');">
                                        <input type="hidden" name="_token" value="{{ csrf_token('block_user' ~ app.user.idu) }}">
                                        <button type="submit" class="badge badge-primary">Block</button>
                                    </form>
                                </td>
								 <td>
                                    <form method="post" action="{{ path('app_user_delete', {'idu': user.idu}) }}" onsubmit="return confirm('Are you sure you want to delete this user?');">
                                        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ app.user.idu) }}">
                                        <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                                    </form>
                                </td>

							</tr>
						{% else %}
							<tr>
								<td colspan="9">no records found</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
						

							</code></pre>
							</div>
						</div>
					</div>
					<!-- Striped table End -->
			
	</div>
</div>
</div>{% endblock %}
